---
title: MacOS development setup
date: 2020-07-18
published: true
---

I'm starting a new job next week and today I got my MacBook Pro 13 delivered to my home ðŸŽ‰.
Now it's time to get ready for the next week and configure it for web development. The setup
will consist out of several steps. Let's break it down:

1. Install Homebrew package manager.
2. Install CLI apps with `brew`.
3. Install GUI apps with `brew cask`.
4. Generate SSH key.
5. Install and configure Oh My Zsh.
6. Install NVM, Node, NPM, and Yarn.
7. Configure dotfiles.
8. Install and configure VSCode.
9. Install and configure Chrome.

## Install Homebrew package manager

First things first! Let's install MacOS package manager - [Homebrew](https://brew.sh).
Homebrew will install packages to their own directory and then symlinks their files
into `/usr/local`. 

To install Homebrew simply paste this snippet in your termminal:

```sh
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install.sh)"
```

The script will install several packages, create new directories, and install Xcode Command Line Tools.
Don't forget to confirm the installation and enter your password. 

```
==> This script will install:`
/usr/local/bin/brew
/usr/local/share/doc/homebrew
/usr/local/share/man/man1/brew.1
/usr/local/share/zsh/site-functions/_brew
/usr/local/etc/bash_completion.d/brew
/usr/local/Homebrew
==> The following new directories will be created:
/usr/local/bin
/usr/local/etc
/usr/local/include
/usr/local/lib
/usr/local/sbin
/usr/local/share
/usr/local/var
/usr/local/opt
/usr/local/share/zsh
/usr/local/share/zsh/site-functions
/usr/local/var/homebrew
/usr/local/var/homebrew/linked
/usr/local/Cellar
/usr/local/Caskroom
/usr/local/Homebrew
/usr/local/Frameworks
==> The Xcode Command Line Tools will be installed.
```

Just to make sure that the installation went successfully let's run:

```sh
brew --version
```

And you should similar output:

```sh
Homebrew 2.4.7
Homebrew/homebrew-core (git revision e9bb3; last commit 2020-07-18)
Homebrew/homebrew-cask (git revision 7033a; last commit 2020-07-18)
```

Using package manager will automate the whole process of installing, upgrading, configuring, and
removing programs using simple commands. Homebrew's API is pretty concise, here is the list of the
most commonly used commands:

| Command                  | Description                          |
|--------------------------|--------------------------------------|
| brew install git         | Install a package.                   |
| brew uninstall git       | Uninstall a package.                 |
| brew upgrade git         | Upgrade a package.                   |
| brew list                | See all installed apps.              |
| brew list --versions git | See what versions you installed.     |
| brew unlink git          | Remove symlink to installation.      |
| brew link git            | Creates symlinks to installations. This allows you to have the flexibility to install things on your own but still have those participate as dependencies in homebrew formulas. |
| brew update              | Fetch latest version of homebrew.    |
| brew doctor              | Check system for potential problems. |

To learn more about Homebrew check out their [documentation](https://docs.brew.sh/) or use
`brew help` / `brew help <sub-command>` to print help information.

## Install CLI apps with Homebrew

Once Homebrew is all set up we can install CLI packages.

`tree` is a recursive directory listing program that produces a depth-indented listing of files.

```sh
brew install tree
```

`ccat` is command line similar to `cat`, but it displays the content of a file with syntax highlighting.

```sh
brew install ccat
```

`gh` is GitHub on the command line. It brings pull requests, issues, and other GitHub concepts to the terminal next to where you are already working with git and your code.

```sh
brew install github/gh/gh
```

One-liner for all of the above:

```sh
brew install tree yarn nvm ccat github/gh/gh && mkdir ~/.nvm
```

## Install GUI apps with Homebrew

Homebrew-Cask is an extension to Homebrew to install GUI applications such as Google Chrome or VSCode.
It started independently but its maintainers now work closely with Homebrewâ€™s core team. It's commands
exactly match the table from the above the only difference is that you have to write `brew cask` instead of 
`brew`, e.g. to install Google Chrome the command will look as: `brew cask install google-chrome`.

Here is the list of apps we are going to install and their corresponding brew package names (feel free
to install any other apps, I'm just show-casing my preferences):

* [Chrome]() `google-chrome`. Don't think that this one needs any intro. We are going to be looking in Chrome extensions further in the article.
* [Firefox]() `firefox`. As well as this one.
* [VScode]() `visiual-studio-code`. The best text editor ever created IMHO.
* [iTerm2]() `iterm2` - more powerful and customizable version of the default terminal app.
* [Authy]()
* [Spectacle]()
* [Telegram]()
* [Notion]()
* [Sourcetree]()
* [Punto Switcher]() - `punto-switcher`
* [Postman]() - 
* [Flux]() - 
* [Raindrop]()
* [1Clipboard]() - 
* [Sizzy]() -
* [Alfred]()
* [Skype]() - 
* [Bartender]() -
* [IINA]() -
* [Lulu]() -
* [Kap]() - 
* [Figma]() - 

And here is the one-liner to install all of these apps:

```sh
`brew cask install visual-studio-code sourcetree authy lastpass google-chrome chromium firefox opera postman spectacle telegram punto-switcher flux iterm2 notion skype raindropio 1clipboard sizzy alfred bartender iina lulu kap figma`
```

After running this script you can take a short break, because it might take a while.

To check out the list of all available apps GUI apps you can visit the [formulae](https://formulae.brew.sh/cask/) page.

Once we installed all the apps it's a good time to sort and organize your apps. I
personally prefer to dump all of the default apps in the same folder and move them
away from my eyes on the second page, because I don't use them anyways. And even
you'll need them later you can always use Alfredo for a quick app launch (we are going
to be talking about Alfredo later in the article). [Attach screenshot of your app's screen].

## Generate SSH key

For the next configuration steps we are going to be using Github, so let's get ready by generating an SSH key.

Open iTerm2 app and the text below, substituting in your GitHub email address.

```sh
ssh-keygen -t rsa -b 4096 -C "jane@doe.com"
```

This creates a new ssh key, using the provided email as a label.

```sh
ssh-keygen -t rsa -b 4096 -C "skok@vova.io"

Generating public/private rsa key pair.
Enter file in which to save the key (/Users/skok/.ssh/id_rsa):
Created directory '/Users/skok/.ssh'.
Enter passphrase (empty for no passphrase):
Enter same passphrase again:
Your identification has been saved in /Users/skok/.ssh/id_rsa.
Your public key has been saved in /Users/skok/.ssh/id_rsa.pub.
The key fingerprint is:
SHA256:b0iJI9OL9dgau6IqVVgVBNcRfqg/hlT743XITxIaDEU skok@vova.io
The key's randomart image is:
+---[RSA 4096]----+
|    .oo.oo.oE    |
|     .o.. o      |
|     o o+ . o .  |
|    ..o+ +   + o |
|    o.B S   . = o|
|    .*.O + . . = |
|   .o= * = .   . |
|  . o  = o .     |
|   . .+o.        |
+----[SHA256]-----+
```

With this command we generated public and private RSA key pair. They are both stored in `~/.ssh` path.
Let's make sure they are in the proper path with `cd ~/.ssh && ls -gha`. And the output will be similar to:

```sh
total 16
drwx------   4 staff   128B Jul 19 15:05 .
drwxr-xr-x+ 26 staff   832B Jul 19 15:08 ..
-rw-------   1 staff   3.3K Jul 19 15:05 id_rsa
-rw-r--r--   1 staff   738B Jul 19 15:05 id_rsa.pub
```

If you are using multiple SSH keys I'd recommend to look into [Github's manual](https://docs.github.com/en/github/authenticating-to-github/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent#adding-your-ssh-key-to-the-ssh-agent).

Copy your public SSH key using this command:

```sh
pbcopy < ~/.ssh/id_rsa.pub
```

Open your browser, navigate to [Github's new SSH key](https://github.com/settings/ssh/new) page and
paste it in giving it a recognizable label. Once you saved the key run `ssh -T git@github.com` command
to make sure everything is correctly configured. You should see a similar message:

```sh
The authenticity of host 'github.com (192.30.255.112)' can't be established.
RSA key fingerprint is SHA256:nThb34kXUpJWGl731IGfCspRomTxdCARLviKw9E5SY8.
Are you sure you want to continue connecting (yes/no/[fingerprint])? yes
Warning: Permanently added 'github.com,192.30.255.112' (RSA) to the list of known hosts.
Hi iamskok! You've successfully authenticated, but GitHub does not provide shell access.`
```

## Install and configure Oh My Zsh

Zsh is a Unix shell that is built on top of bash with additional features. It's a shell designed
for interactive use, although it is also a powerful scripting language. Oh My Zsh is a delightful,
open source, community-driven framework for managing Zsh configuration.

> Oh My Zsh will not make you a 10x developer...but you may feel like one.


To install Oh My Zsh run this command:


```sh
sh -c "$(curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)"
```

Sometimes after installation you may get this warning:

```sh
[oh-my-zsh] Insecure completion-dependent directories detected:
drwxrwxr-x  3 skok  admin   96 Jul 18 15:10 /usr/local/share/zsh
drwxrwxr-x  5 skok  admin  160 Jul 18 23:40 /usr/local/share/zsh/site-functions

[oh-my-zsh] For safety, we will not load completions from these directories until
[oh-my-zsh] you fix their permissions and ownership and restart zsh.
[oh-my-zsh] See the above list for directories with group or other writability.

[oh-my-zsh] To fix your permissions you can do so by disabling
[oh-my-zsh] the write permission of "group" and "others" and making sure that the
[oh-my-zsh] owner of these directories is either root or your current user.
[oh-my-zsh] The following command may help:
[oh-my-zsh]     compaudit | xargs chmod g-w,o-w

[oh-my-zsh] If the above didn't help or you want to skip the verification of
[oh-my-zsh] insecure directories you can set the variable ZSH_DISABLE_COMPFIX to
[oh-my-zsh] "true" before oh-my-zsh is sourced in your zshrc file.
```

In order to fix it you can execute these commands or check out this
[GitHub issue comment](https://github.com/ohmyzsh/ohmyzsh/issues/6835#issuecomment-390216875).

```sh
chmod 755 /usr/local/share/zsh
chmod 755 /usr/local/share/zsh/site-functions
```

Now close and open iTerm2 app again and you will see that the theme was changed on the default
[`robbyrussell`](https://github.com/ohmyzsh/ohmyzsh/wiki/Themes#robbyrussell). As well as you
get a bunch of aliases and text complitions out of the box.

Let's install several usefull plugins. In order to add new plugins to the config you have to
open `code ~/.zshrc` file. The default config will look similar to this one:

```sh
# If you come from bash you might have to change your $PATH.
# export PATH=$HOME/bin:/usr/local/bin:$PATH

# Path to your oh-my-zsh installation.
export ZSH="/Users/skok/.oh-my-zsh"

# Set name of the theme to load --- if set to "random", it will
# load a random theme each time oh-my-zsh is loaded, in which case,
# to know which specific one was loaded, run: echo $RANDOM_THEME
# See https://github.com/ohmyzsh/ohmyzsh/wiki/Themes
ZSH_THEME="robbyrussell"

# Set list of themes to pick from when loading at random
# Setting this variable when ZSH_THEME=random will cause zsh to load
# a theme from this variable instead of looking in $ZSH/themes/
# If set to an empty array, this variable will have no effect.
# ZSH_THEME_RANDOM_CANDIDATES=( "robbyrussell" "agnoster" )

# Uncomment the following line to use case-sensitive completion.
# CASE_SENSITIVE="true"

# Uncomment the following line to use hyphen-insensitive completion.
# Case-sensitive completion must be off. _ and - will be interchangeable.
# HYPHEN_INSENSITIVE="true"

# Uncomment the following line to disable bi-weekly auto-update checks.
# DISABLE_AUTO_UPDATE="true"

# Uncomment the following line to automatically update without prompting.
# DISABLE_UPDATE_PROMPT="true"

# Uncomment the following line to change how often to auto-update (in days).
# export UPDATE_ZSH_DAYS=13

# Uncomment the following line if pasting URLs and other text is messed up.
# DISABLE_MAGIC_FUNCTIONS="true"

# Uncomment the following line to disable colors in ls.
# DISABLE_LS_COLORS="true"

# Uncomment the following line to disable auto-setting terminal title.
# DISABLE_AUTO_TITLE="true"

# Uncomment the following line to enable command auto-correction.
# ENABLE_CORRECTION="true"

# Uncomment the following line to display red dots whilst waiting for completion.
# COMPLETION_WAITING_DOTS="true"

# Uncomment the following line if you want to disable marking untracked files
# under VCS as dirty. This makes repository status check for large repositories
# much, much faster.
# DISABLE_UNTRACKED_FILES_DIRTY="true"

# Uncomment the following line if you want to change the command execution time
# stamp shown in the history command output.
# You can set one of the optional three formats:
# "mm/dd/yyyy"|"dd.mm.yyyy"|"yyyy-mm-dd"
# or set a custom format using the strftime function format specifications,
# see 'man strftime' for details.
# HIST_STAMPS="mm/dd/yyyy"

# Would you like to use another custom folder than $ZSH/custom?
# ZSH_CUSTOM=/path/to/new-custom-folder

# Which plugins would you like to load?
# Standard plugins can be found in $ZSH/plugins/
# Custom plugins may be added to $ZSH_CUSTOM/plugins/
# Example format: plugins=(rails git textmate ruby lighthouse)
# Add wisely, as too many plugins slow down shell startup.
plugins=(git)

source $ZSH/oh-my-zsh.sh

# User configuration

# export MANPATH="/usr/local/man:$MANPATH"

# You may need to manually set your language environment
# export LANG=en_US.UTF-8

# Preferred editor for local and remote sessions
# if [[ -n $SSH_CONNECTION ]]; then
#   export EDITOR='vim'
# else
#   export EDITOR='mvim'
# fi

# Compilation flags
# export ARCHFLAGS="-arch x86_64"

# Set personal aliases, overriding those provided by oh-my-zsh libs,
# plugins, and themes. Aliases can be placed here, though oh-my-zsh
# users are encouraged to define aliases within the ZSH_CUSTOM folder.
# For a full list of active aliases, run `alias`.
#
# Example aliases
# alias zshconfig="mate ~/.zshrc"
# alias ohmyzsh="mate ~/.oh-my-zsh"
```

Let's add `last-working-dir`, `history`, and `z` plugins on line `79`. `last-working-dir`
remembers the last working directory opened and next time you open the shell you'll start
exactly where you stopped. `history` provides a couple of convenient aliases for using
the history command to examine your command line history. `z` plugin tracks your most
visited directories and allows you to access them with very few keystrokes.

To learn more about avaiable Oh My Zsh plugins visit their [Wiki page](https://github.com/robbyrussell/oh-my-zsh/wiki/Plugins).
Besides official plugins there is a great variety of other plugins a good place to look
for them is [Awesome Zsh plugins repo](https://github.com/unixorn/awesome-zsh-plugins#plugins).

> And remeber with a great power comes great responsability. Don't install too many
> plugins because they can slow down shell startup.

From the non-official plugins I really recommend:

* [zsh-completions](https://github.com/zsh-users/zsh-completions) - additional completion definitions for Zsh.
* [zsh-syntax-highlighting](https://github.com/zsh-users/zsh-syntax-highlighting.git) - provides syntax highlighting for the
shell zsh. It enables highlighting of commands whilst they are typed at a zsh prompt into an interactive terminal. This helps
in reviewing commands before running them, particularly in catching syntax errors.

It's recommended that all custom plugins are installed in `~/.oh-my-zsh/custom}/plugins` directory. So let's follow this rule
and clone these 2 plugins in the custom plugins directory.

```sh
git clone https://github.com/zsh-users/zsh-completions] ${ZSH_CUSTOM:=~/.oh-my-zsh/custom}/plugins/zsh-completions
git clone https://github.com/zsh-users/zsh-syntax-highlighting.git ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-syntax-highlighting
```

After this let's open `code ~/.zshrc` and add these 2 plugins in the plugins array:

```sh
plugins=(
    git
    last-working-dir
    history
    zsh-completions
    zsh-syntax-highlighting
    z
)
```

### Add aliases

### Add functions


## Install NVM, Node, NPM, and Yarn.

There are multiple ways to install Node and NPM, but I prefer to do it via `NVM`, which stands for
[Node Version Manager](). It provides a command-line interface where you can install different versions
with a single command, set a default, switch between them and much more.

```sh
brew install nvm
```

We are also required to create NVM's working directory by running `mkdir ~/.nvm`. If you have been attentive
you probably saw the post installation message about shell configurations, so let's fix it by openning `code ~/.zshrc`
and adding to the bottom of the file:

```sh
export NVM_DIR="$HOME/.nvm"
  # Load NVM and bash_completion
  [ -s "/usr/local/opt/nvm/nvm.sh" ] && . "/usr/local/opt/nvm/nvm.sh"
  [ -s "/usr/local/opt/nvm/etc/bash_completion.d/nvm" ] && . "/usr/local/opt/nvm/etc/bash_completion.d/nvm"
```

NVM is now fully configured so let's run `nvm ls-remote` to find the latest avaiable node version and install
it with `nvm install vX.X.X` (replace it on the latest version).


Next thing we are going to install is `yarn` package manager. It's a fast, reliable, and secure dependency management.

```sh
brew install yarn
```

Though some things never change - https://www.reddit.com/r/MacOS/comments/hpwcfu/year_2020_apple_engineers_no/.